@using Turnstile.Web.Controllers
@model PickSubscriptionViewModel

@{
    ViewData["Title"] = "Choose subscription | Turnstile";
    Layout = "_SubscriberLayout";
}

<h1>Please choose a subscription</h1>

<div class="list-group" style="margin-top: 20px">
    @foreach (var subscription in Model.Subscriptions)
    {
        var subTurnstileUrl = Url.RouteUrl(
            TurnstileController.RouteNames.SpecificTurnstile,
            subscription.ReturnToUrl == null ?
                new { subscriptionId = subscription.SubscriptionId } :
                new { subscriptionId = subscription.SubscriptionId, returnTo = subscription.ReturnToUrl });

        <a href="@subTurnstileUrl" class="list-group-item list-group-item-action">
            @subscription.SubscriptionName &nbsp;
            @if (subscription.CanAdminister == true)
            {
                <span class="badge badge bg-primary">Admin</span>
            }
            <br /><small class="text-muted">@subscription.SubscriptionId</small>
        </a>
    }
</div>