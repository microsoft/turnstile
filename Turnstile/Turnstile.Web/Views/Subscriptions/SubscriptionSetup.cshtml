@using Turnstile.Core.Constants

@{
    ViewData["Title"] = $"Subscription setup | {Model.SubscriptionConfiguration?.SubscriptionName ?? Model.SubscriptionId} | Turnstile";
}

@model SubscriptionSetupViewModel

<h1>Subscription setup</h1>
<hr />

<form method="post">
    <input type="hidden" asp-for="@Model.SubscriptionId" />
    <div class="mb-3">
        <label asp-for="@Model.SubscriptionConfiguration!.SubscriptionName" class="form-label"></label>&nbsp;<span class="text-danger">*</span>
        <input asp-for="@Model.SubscriptionConfiguration!.SubscriptionName" class="form-control" type="text" aria-describedBy="subNameHelp" />
        <span asp-validation-for="@Model.SubscriptionConfiguration!.SubscriptionName" class="text-danger"></span>
        <div id="subNameHelp" class="form-text">The name of this subscription as it will appear in the UI.</div>
    </div>
    <div class="mb-3">
        <label asp-for="@Model.SubscriberInfo!.TenantName" class="form-label"></label>&nbsp;<span class="text-danger">*</span>
        <input asp-for="@Model.SubscriberInfo!.TenantName" class="form-control" type="text" aria-describedBy="tenantNameHelp" />
        <span asp-validation-for="@Model.SubscriberInfo!.TenantName" class="text-danger"></span>
        <div id="tenantNameHelp" class="form-text">The name of the subscriber (typically, your organization's name) as it will appear in the UI.</div>
    </div>
    <div class="mb-3">
        <label asp-for="@Model.SubscriberInfo!.TenantCountry" class="form-label"></label>&nbsp;<span class="text-danger">*</span>
        <select asp-for="@Model.SubscriberInfo!.TenantCountry" asp-items="@Model.SubscriberInfo!.Countries" class="form-select" aria-describedBy="tenantCountryHelp"></select>
        <span asp-validation-for="@Model.SubscriberInfo!.TenantCountry" class="text-danger"></span>
        <div id="tenantCountryHelp" class="form-text">The country in which the subscriber (typically, your organization) is based.</div>
    </div>
    <div class="mb-3">
        <label asp-for="@Model.SubscriberInfo!.AdminName" class="form-label"></label>
        <input asp-for="@Model.SubscriberInfo!.AdminName" class="form-control" type="text" aria-describedBy="adminNameHelp" />
        <span asp-validation-for="@Model.SubscriberInfo!.AdminName" class="text-danger"></span>
        <div id="adminNameHelp" class="form-text">The name of this subscription's administrator.</div>
    </div>
    <div class="mb-3">
        <label asp-for="@Model.SubscriberInfo!.AdminEmail" class="form-label"></label>
        <input asp-for="@Model.SubscriberInfo!.AdminEmail" class="form-control" type="email" aria-describedBy="adminEmailHelp" />
        <span asp-validation-for="@Model.SubscriberInfo!.AdminEmail" class="text-danger"></span>
        <div id="adminEmailHelp" class="form-text">The email of this subscription's administrator.</div>
    </div>
    <div class="mb-3">
        <label asp-for="@Model.SubscriptionConfiguration!.SeatingStrategyName" class="form-label"></label>&nbsp;<span class="text-danger">*</span>
        <select asp-for="@Model.SubscriptionConfiguration!.SeatingStrategyName" asp-items="@Model.SubscriptionConfiguration!.AvailableSeatingStrategies" class="form-select" aria-describedBy="seatStrategyHelp"></select>
        <span asp-validation-for="@Model.SubscriptionConfiguration!.SeatingStrategyName" class="text-danger"></span>
        <div id="seatStrategyHelp" class="form-text">The strategy to be applied when providing seats in this subscription.</div>
    </div>
    <div class="mb-3">
        <label asp-for="@Model.SubscriptionConfiguration!.SeatExpiryInDays" class="form-label"></label>
        <input asp-for="@Model.SubscriptionConfiguration!.SeatExpiryInDays" class="form-control" type="number" aria-describedBy="seatExpiryHelp" />
        <span asp-validation-for="@Model.SubscriptionConfiguration!.SeatExpiryInDays" class="text-danger"></span>
        <div id="seatExpiryHelp" class="form-text">The number of days (by default) that a seat will remain occupied.</div>
    </div>
    <div class="mb-3">
        <label asp-for="@Model.SubscriptionConfiguration!.SeatReservationExpiryInDays" class="form-label"></label>
        <input asp-for="@Model.SubscriptionConfiguration!.SeatReservationExpiryInDays" class="form-control" type="number" aria-describedBy="reservationExpiryHelp" />
        <span asp-validation-for="@Model.SubscriptionConfiguration!.SeatReservationExpiryInDays" class="text-danger"></span>
        <div id="tenantNameHelp" class="form-text">The number of days (by default) that a seat can remain occupied.</div>
    </div>
    <hr />
    <button type="submit" class="btn btn-primary" style="margin-top: 20px; margin-bottom: 20px">Complete setup</button>

    @section Scripts {
    @{
    await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
    }

</form>


